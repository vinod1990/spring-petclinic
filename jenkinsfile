pipeline{
    agent any
    stages{
        stage('vcs'){
            steps{
               git url: 'https://github.com/vinod1990/spring-petclinic.git', branch: 'scriptedpipeline'
                 }
        }
    
        
        stage('build'){
            steps{
                agent { label 'jdk-11-mvn' }
                sh 'mvn package'
                 }
        }
        
        stage('post') {
            steps {
            archiveArtifacts artifacts: 'target/spring-petclinic-*.jar'
            junit '**/surefire-reports/*.xml'
             }
     
        }
    }     
}
